(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7462],{3161:function(e,r,t){"use strict";t.d(r,{U:function(){return m}});var n=t(41664),s=t(87357),i=t(27948),o=t(87918),a=t(15861),c=t(50122),l=t(34386),u=t(85893),d="/static/icons/amplify.svg",f="/static/icons/auth0.svg",h="/static/icons/firebase.svg",p="/static/icons/jwt.svg",m=function(){return(0,u.jsx)(s.Z,{sx:{backgroundColor:"background.paper",borderBottom:1,borderColor:"divider",py:1},children:(0,u.jsx)(i.Z,{maxWidth:"md",children:(0,u.jsxs)(s.Z,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap",justifyContent:"center"},children:[(0,u.jsx)(o.Z,{color:"primary",label:"NEW",sx:{mr:2},size:"small"}),(0,u.jsxs)(a.Z,{variant:"subtitle2",children:["Visit our"," ",(0,u.jsx)(n.default,{href:"/docs/welcome",passHref:!0,children:(0,u.jsx)(c.Z,{variant:"subtitle2",children:"docs"})})," ","and find out how to switch between"]}),(0,u.jsxs)(s.Z,{sx:{alignItems:"center",display:"flex","& img":{height:30,m:1}},children:[(0,u.jsx)(l.Z,{title:"Amplify",children:(0,u.jsx)("img",{alt:"Amplify",src:d})}),(0,u.jsx)(l.Z,{title:"Auth0",children:(0,u.jsx)("img",{alt:"Auth0",src:f})}),(0,u.jsx)(l.Z,{title:"Firebase",children:(0,u.jsx)("img",{alt:"Firebase",src:h})}),(0,u.jsx)(l.Z,{title:"JSON Web Token",children:(0,u.jsx)("img",{alt:"JWT",src:p})})]})]})})})}},54213:function(e,r,t){"use strict";t.d(r,{A:function(){return l}});var n=t(67294),s=t(11163),i=t(45697),o=t.n(i),a=t(14069),c=t(85893),l=function(e){var r=e.children,t=(0,a.a)(),i=(0,s.useRouter)(),o=(0,n.useState)(!1),l=o[0],u=o[1],d=i.query.disableGuard;return(0,n.useEffect)((function(){i.isReady&&(t.isAuthenticated&&"true"!==d?i.push("/dashboard").catch(console.error):u(!0))}),[i.isReady]),l?(0,c.jsx)(c.Fragment,{children:r}):null};l.propTypes={children:o().node}},14069:function(e,r,t){"use strict";t.d(r,{a:function(){return i}});var n=t(67294),s=t(97981),i=function(){return(0,n.useContext)(s.Vo)}},54722:function(e,r,t){"use strict";t.d(r,{s:function(){return s}});var n=t(67294),s=function(){var e=(0,n.useRef)(!1);return(0,n.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),(0,n.useCallback)((function(){return e.current}),[])}},70945:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return W}});var n=t(67294),s=t(9008),i=t(41664),o=t(11163),a=t(87357),c=t(27948),l=t(15861),u=t(66242),d=t(67720),f=t(50122),h=t(54213),p=t(3161),m=t(59499),x=t(50029),b=t(87794),j=t.n(b),g=t(74231),v=t(82580),y=t(50135),w=t(56815),Z=t(11057),C=t(14069),A=t(54722),O=t(85893);function k(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function S(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?k(Object(t),!0).forEach((function(r){(0,m.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var P=function(e){var r=(0,A.s)(),t=(0,C.a)().passwordReset,s=(0,o.useRouter)(),i=(0,n.useRef)([]),c=(0,n.useState)(""),u=c[0],d=c[1],f=(0,v.TA)({enableReinitialize:!0,initialValues:{code:["","","","","",""],email:u,password:"",passwordConfirm:"",submit:null},validationSchema:g.Ry({code:g.IX().of(g.Z_().required("Code is required")),email:g.Z_().email("Must be a valid email").max(255).required("Email is required"),password:g.Z_().min(7,"Must be at least 7 characters").max(255).required("Required"),passwordConfirm:g.Z_().oneOf([g.iH("password"),null],"Passwords must match").required("Required")}),onSubmit:function(){var e=(0,x.Z)(j().mark((function e(n,i){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(n.email,n.code.join(""),n.password);case 3:r()&&s.push("/authentication/login").catch(console.error),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),r()&&(i.setStatus({success:!1}),i.setErrors({submit:e.t0.message}),i.setSubmitting(!1));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(r,t){return e.apply(this,arguments)}}()});(0,n.useEffect)((function(){i.current=i.current.slice(0,6);var e=sessionStorage.getItem("username");e&&d(e)}),[]);var h=function(e){var r=e.clipboardData.getData("text").split("");if(6===r.length){var t=!0;r.forEach((function(e){Number.isInteger(parseInt(e,10))||(t=!1)})),t&&(f.setFieldValue("code",r),i.current[5].focus())}};return(0,O.jsxs)("form",S(S({noValidate:!0,onSubmit:f.handleSubmit},e),{},{children:[u?(0,O.jsx)(y.Z,{disabled:!0,fullWidth:!0,margin:"normal",value:u}):(0,O.jsx)(y.Z,{autoFocus:!0,error:Boolean(f.touched.email&&f.errors.email),fullWidth:!0,helperText:f.touched.email&&f.errors.email,label:"Email Address",margin:"normal",name:"email",onBlur:f.handleBlur,onChange:f.handleChange,type:"email",value:f.values.email}),(0,O.jsx)(l.Z,{color:"textSecondary",sx:{mb:2,mt:3},variant:"subtitle2",children:"Verification code"}),(0,O.jsx)(a.Z,{sx:{columnGap:"16px",display:"grid",gridTemplateColumns:"repeat(7, 1fr)",py:1},children:[1,2,3,4,5,6].map((function(e,r){return(0,O.jsx)(y.Z,{error:Boolean(Array.isArray(f.touched.code)&&6===f.touched.code.length&&f.errors.code),fullWidth:!0,inputRef:function(e){return i.current[r]=e},name:"code[".concat(r,"]"),onBlur:f.handleBlur,onKeyDown:function(e){return function(e,r){if("Enter"===e.code){if(f.values.code[r])return void f.setFieldValue("code[".concat(r,"]"),"");if(r>0)return f.setFieldValue("code[".concat(r,"]"),""),void i.current[r-1].focus()}Number.isInteger(parseInt(e.key,10))&&(f.setFieldValue("code[".concat(r,"]"),e.key),r<5&&i.current[r+1].focus())}(e,r)},onPaste:h,value:f.values.code[r],sx:{display:"inline-block",textAlign:"center","& .MuiInputBase-input":{textAlign:"center"}}},"code-".concat(r))}))}),Boolean(Array.isArray(f.touched.code)&&6===f.touched.code.length&&f.errors.code)&&(0,O.jsx)(w.Z,{error:!0,sx:{mx:"14px"},children:Array.isArray(f.errors.code)&&f.errors.code.find((function(e){return void 0!==e}))}),(0,O.jsx)(y.Z,{error:Boolean(f.touched.password&&f.errors.password),fullWidth:!0,helperText:f.touched.password&&f.errors.password,label:"Password",margin:"normal",name:"password",onBlur:f.handleBlur,onChange:f.handleChange,type:"password",value:f.values.password}),(0,O.jsx)(y.Z,{error:Boolean(f.touched.passwordConfirm&&f.errors.passwordConfirm),fullWidth:!0,helperText:f.touched.passwordConfirm&&f.errors.passwordConfirm,label:"Password Confirmation",margin:"normal",name:"passwordConfirm",onBlur:f.handleBlur,onChange:f.handleChange,type:"password",value:f.values.passwordConfirm}),f.errors.submit&&(0,O.jsx)(a.Z,{sx:{mt:3},children:(0,O.jsx)(w.Z,{error:!0,children:f.errors.submit})}),(0,O.jsx)(a.Z,{sx:{mt:3},children:(0,O.jsx)(Z.Z,{disabled:f.isSubmitting,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Reset Password"})})]}))},R=t(22249),E=t(55714),_={Amplify:"/static/icons/amplify.svg",Auth0:"/static/icons/auth0.svg",Firebase:"/static/icons/firebase.svg",JWT:"/static/icons/jwt.svg"},B=function(){var e=(0,o.useRouter)(),r=(0,C.a)().platform,t=e.query.disableGuard;return(0,n.useEffect)((function(){E.w.push({event:"page_view"})}),[]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(s.default,{children:(0,O.jsxs)("title",{children:["Password Reset | ","Picante"]})}),(0,O.jsxs)(a.Z,{component:"main",sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",minHeight:"100vh"},children:[(0,O.jsx)(p.U,{}),(0,O.jsxs)(c.Z,{maxWidth:"sm",sx:{py:{xs:"60px",md:"120px"}},children:[(0,O.jsxs)(a.Z,{sx:{alignItems:"center",backgroundColor:function(e){return"dark"===e.palette.mode?"neutral.900":"neutral.100"},borderColor:"divider",borderRadius:1,borderStyle:"solid",borderWidth:1,display:"flex",flexWrap:"wrap",justifyContent:"space-between",mb:4,p:2,"& > img":{height:32,width:"auto",flexGrow:0,flexShrink:0}},children:[(0,O.jsxs)(l.Z,{color:"textSecondary",variant:"caption",children:["The app authenticates via ",r]}),(0,O.jsx)("img",{alt:"Auth platform",src:_[r]})]}),(0,O.jsxs)(u.Z,{elevation:16,sx:{p:4},children:[(0,O.jsxs)(a.Z,{sx:{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,O.jsx)(i.default,{href:"/",passHref:!0,children:(0,O.jsx)("a",{children:(0,O.jsx)(R.T,{sx:{height:40,width:40}})})}),(0,O.jsx)(l.Z,{variant:"h4",children:"Password Reset"}),(0,O.jsx)(l.Z,{color:"textSecondary",sx:{mt:2},variant:"body2",children:"Reset your account password using your code"})]}),(0,O.jsx)(a.Z,{sx:{flexGrow:1,mt:3},children:"Amplify"===r&&(0,O.jsx)(P,{})}),(0,O.jsx)(d.Z,{sx:{my:3}}),"Amplify"===r&&(0,O.jsx)("div",{children:(0,O.jsx)(i.default,{href:t?"/authentication/password-recovery?disableGuard=".concat(t):"/authentication/password-recovery",passHref:!0,children:(0,O.jsx)(f.Z,{color:"textSecondary",variant:"body2",children:"Did you not receive the code?"})})})]})]})]})]})};B.getLayout=function(e){return(0,O.jsx)(h.A,{children:e})};var W=B},99972:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/authentication/password-reset",function(){return t(70945)}])}},function(e){e.O(0,[6313,5464,9332,135,939,551,8706,9774,2888,179],(function(){return r=99972,e(e.s=r);var r}));var r=e.O();_N_E=r}]);