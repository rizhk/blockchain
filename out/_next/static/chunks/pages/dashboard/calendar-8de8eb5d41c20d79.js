(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3259],{85750:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});var r=n(82066),a=n(85893),i=(0,r.Z)((0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})}),"ChevronLeft")},67067:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});var r=n(82066),a=n(85893),i=(0,r.Z)((0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Plus")},55186:function(e,t,n){"use strict";n.d(t,{r:function(){return i}});var r=n(82066),a=n(85893),i=(0,r.Z)((0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Trash")},36206:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ie}});var r=n(50029),a=n(87794),i=n.n(a),l=(n(6321),n(34120),n(72403),n(90207),n(35765),n(67294)),o=n(9008),s=n(12550),c=n(56921),d=n(46842),u=n(1382),p=n(9266),f=n(64607),v=n(98396),h=n(87357),x=n(11496),g=n(41796),m=n(84717),y=n(44265),b=n(59499),j=n(74931),w=n(58545),Z=n(74231),D=n(82580),C=n(42492),O=n(15861),k=n(50135),P=n(50480),S=n(45843),T=n(56815),E=n(67720),W=n(93946),z=n(11057),A=n(4475),M=n(55186),V=n(87414),_=n(52269),R=n(85893);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(e){var t=e.event,n=e.onAddComplete,a=e.onClose,o=e.onDeleteComplete,s=e.onEditComplete,c=e.open,d=e.range,u=(0,_.I0)(),p=(0,l.useMemo)((function(){return t?{allDay:t.allDay||!1,color:t.color||"",description:t.description||"",end:t.end?new Date(t.end):(0,w.Z)(new Date,30),start:t.start?new Date(t.start):new Date,title:t.title||"",submit:null}:d?{allDay:!1,color:"",description:"",end:new Date(d.end),start:new Date(d.start),title:"",submit:null}:{allDay:!1,color:"",description:"",end:(0,w.Z)(new Date,30),start:new Date,title:"",submit:null}}),[t,d]),f=(0,D.TA)({enableReinitialize:!0,initialValues:p,validationSchema:Z.Ry({allDay:Z.Xg(),description:Z.Z_().max(5e3),end:Z.hT(),start:Z.hT(),title:Z.Z_().max(255).required("Title is required")}),onSubmit:function(){var e=(0,r.Z)(i().mark((function e(r,a){var l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l={allDay:r.allDay,description:r.description,end:r.end.getTime(),start:r.start.getTime(),title:r.title},!t){e.next=8;break}return e.next=5,u((0,V.eJ)(t.id,l));case 5:j.ZP.success("Event updated!"),e.next=11;break;case 8:return e.next=10,u((0,V.yM)(l));case 10:j.ZP.success("Event added!");case 11:!t&&n&&n(),t&&s&&s(),e.next=22;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0),j.ZP.error("Something went wrong!"),a.setStatus({success:!1}),a.setErrors({submit:e.t0.message}),a.setSubmitting(!1);case 22:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}()}),v=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,u((0,V.Bt)(t.id));case 5:null===o||void 0===o||o(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,R.jsx)(C.Z,{fullWidth:!0,maxWidth:"sm",onClose:a,open:!!c,children:(0,R.jsxs)("form",{onSubmit:f.handleSubmit,children:[(0,R.jsx)(h.Z,{sx:{p:3},children:(0,R.jsx)(O.Z,{align:"center",gutterBottom:!0,variant:"h5",children:t?"Edit Event":"Add Event"})}),(0,R.jsxs)(h.Z,{sx:{p:3},children:[(0,R.jsx)(k.Z,{error:Boolean(f.touched.title&&f.errors.title),fullWidth:!0,helperText:f.touched.title&&f.errors.title,label:"Title",name:"title",onBlur:f.handleBlur,onChange:f.handleChange,value:f.values.title}),(0,R.jsx)(h.Z,{sx:{mt:2},children:(0,R.jsx)(k.Z,{error:Boolean(f.touched.description&&f.errors.description),fullWidth:!0,helperText:f.touched.description&&f.errors.description,label:"Description",name:"description",onBlur:f.handleBlur,onChange:f.handleChange,value:f.values.description})}),(0,R.jsx)(h.Z,{sx:{mt:2},children:(0,R.jsx)(P.Z,{control:(0,R.jsx)(S.Z,{checked:f.values.allDay,name:"allDay",onChange:f.handleChange}),label:"All day"})}),(0,R.jsx)(h.Z,{sx:{mt:2},children:(0,R.jsx)(A.Z,{label:"Start date",onChange:function(e){f.setFieldValue("start",e),f.values.end&&e&&e>f.values.end&&f.setFieldValue("end",e)},renderInput:function(e){return(0,R.jsx)(k.Z,I({fullWidth:!0},e))},value:f.values.start})}),(0,R.jsx)(h.Z,{sx:{mt:2},children:(0,R.jsx)(A.Z,{label:"End date",onChange:function(e){f.setFieldValue("end",e),f.values.start&&e&&e<f.values.start&&f.setFieldValue("start",e)},renderInput:function(e){return(0,R.jsx)(k.Z,I({fullWidth:!0},e))},value:f.values.end})}),Boolean(f.touched.end&&f.errors.end)&&(0,R.jsx)(h.Z,{sx:{mt:2},children:(0,R.jsx)(T.Z,{error:!0,children:f.errors.end})})]}),(0,R.jsx)(E.Z,{}),(0,R.jsxs)(h.Z,{sx:{alignItems:"center",display:"flex",p:2},children:[t&&(0,R.jsx)(W.Z,{onClick:function(){return v()},children:(0,R.jsx)(M.r,{fontSize:"small"})}),(0,R.jsx)(h.Z,{sx:{flexGrow:1}}),(0,R.jsx)(z.Z,{onClick:a,children:"Cancel"}),(0,R.jsx)(z.Z,{disabled:f.isSubmitting,sx:{ml:1},type:"submit",variant:"contained",children:"Confirm"})]})]})})},F=n(4730),H=n(32912),N=n(5203),L=n(28842),q=n(23006),J=n(91340),X=n(85750),K=n(38732),Q=n(67067),U=["date","mobile","onAddClick","onDateNext","onDatePrev","onDateToday","onViewChange","view"];function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=[{icon:N.Z,label:"Month",value:"dayGridMonth"},{icon:L.Z,label:"Week",value:"timeGridWeek"},{icon:q.Z,label:"Day",value:"timeGridDay"},{icon:J.Z,label:"Agenda",value:"listWeek"}],te=function(e){var t=e.date,n=e.mobile,r=e.onAddClick,a=e.onDateNext,i=e.onDatePrev,l=(e.onDateToday,e.onViewChange),o=e.view,s=(0,F.Z)(e,U);return(0,R.jsxs)(h.Z,$($({sx:{alignItems:"center",display:"flex",flexWrap:"wrap",justifyContent:"space-between",px:3,flexDirection:{xs:"column",md:"row"}}},s),{},{children:[(0,R.jsxs)(h.Z,{sx:{alignItems:"center",display:"flex",mb:{xs:2,md:0},mr:2},children:[(0,R.jsx)(O.Z,{variant:"h5",children:(0,H.Z)(t,"MMMM")}),(0,R.jsx)(O.Z,{sx:{fontWeight:400,ml:1},variant:"h5",children:(0,H.Z)(t,"y")})]}),(0,R.jsxs)(h.Z,{sx:{alignItems:"center",flexWrap:"wrap",display:"flex",m:-1},children:[(0,R.jsxs)(h.Z,{sx:{m:1},children:[(0,R.jsx)(W.Z,{onClick:i,children:(0,R.jsx)(X.s,{fontSize:"small"})}),(0,R.jsx)(W.Z,{onClick:a,children:(0,R.jsx)(K._,{fontSize:"small"})})]}),(0,R.jsx)(k.Z,{label:"View",name:"view",onChange:function(e){null===l||void 0===l||l(e.target.value)},select:!0,size:"small",value:o,sx:{ml:{xs:"auto",md:1},m:1,minWidth:120},SelectProps:{native:!0},children:ee.map((function(e){return n&&!["timeGridDay","listWeek"].includes(e.value)?null:(0,R.jsx)("option",{value:e.value,children:e.label},e.value)}))}),(0,R.jsx)(z.Z,{onClick:r,startIcon:(0,R.jsx)(Q.v,{fontSize:"small"}),sx:{m:1,order:{xs:-1,md:0},width:{xs:"100%",md:"auto"}},variant:"contained",children:"New Event"})]})]}))},ne=n(55714),re=(0,x.ZP)("div")((function(e){var t=e.theme;return{marginTop:t.spacing(3),"& .fc-license-message":{display:"none"},"& .fc":{"--fc-bg-event-opacity":1,"--fc-border-color":t.palette.divider,"--fc-daygrid-event-dot-width":"10px","--fc-event-text-color":t.palette.primary.contrastText,"--fc-list-event-hover-bg-color":t.palette.background.default,"--fc-neutral-bg-color":t.palette.background.default,"--fc-page-bg-color":t.palette.background.default,"--fc-today-bg-color":(0,g.Fq)(t.palette.primary.main,.25),color:t.palette.text.primary,fontFamily:t.typography.fontFamily},"& .fc .fc-col-header-cell-cushion":{paddingBottom:"10px",paddingTop:"10px",fontSize:t.typography.overline.fontSize,fontWeight:t.typography.overline.fontWeight,letterSpacing:t.typography.overline.letterSpacing,lineHeight:t.typography.overline.lineHeight,textTransform:t.typography.overline.textTransform},"& .fc .fc-day-other .fc-daygrid-day-top":{color:t.palette.text.secondary},"& .fc-daygrid-event":{borderRadius:t.shape.borderRadius,padding:"0px 4px",fontSize:t.typography.subtitle2.fontSize,fontWeight:t.typography.subtitle2.fontWeight,lineHeight:t.typography.subtitle2.lineHeight},"& .fc-daygrid-block-event .fc-event-time":{fontSize:t.typography.body2.fontSize,fontWeight:t.typography.body2.fontWeight,lineHeight:t.typography.body2.lineHeight},"& .fc-daygrid-day-frame":{padding:"12px"}}})),ae=function(){var e=(0,_.I0)(),t=(0,l.useRef)(null),n=(0,v.Z)((function(e){return e.breakpoints.down("sm")})),a=(0,_.v9)((function(e){return e.calendar})).events,x=(0,l.useState)(new Date),g=x[0],m=x[1],y=(0,l.useState)(n?"timeGridDay":"dayGridMonth"),b=y[0],j=y[1],w=(0,l.useState)({isOpen:!1,eventId:void 0,range:void 0}),Z=w[0],D=w[1];(0,l.useEffect)((function(){ne.w.push({event:"page_view"})}),[]),(0,l.useEffect)((function(){e((0,V.vw)())}),[]);var C=(0,l.useCallback)((function(){var e=t.current;if(e){var r=e.getApi(),a=n?"timeGridDay":"dayGridMonth";r.changeView(a),j(a)}}),[t,n]);(0,l.useEffect)((function(){C()}),[n]);var O=function(){var t=(0,r.Z)(i().mark((function t(n){var r,a,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.event,t.prev=1,t.next=4,e((0,V.eJ)(r.id,{allDay:r.allDay,start:null===(a=r.start)||void 0===a?void 0:a.getTime(),end:null===(l=r.end)||void 0===l?void 0:l.getTime()}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=(0,r.Z)(i().mark((function t(n){var r,a,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.event,t.prev=1,t.next=4,e((0,V.eJ)(r.id,{allDay:r.allDay,start:null===(a=r.start)||void 0===a?void 0:a.getTime(),end:null===(l=r.end)||void 0===l?void 0:l.getTime()}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),P=function(){D({isOpen:!1})},S=Z.eventId&&a.find((function(e){return e.id===Z.eventId}));return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(o.default,{children:(0,R.jsxs)("title",{children:["Dashboard: Calendar | ","Picante"]})}),(0,R.jsxs)(h.Z,{component:"main",sx:{backgroundColor:"background.paper",flexGrow:1,py:8},children:[(0,R.jsx)(te,{date:g,onAddClick:function(){D({isOpen:!0})},onDateNext:function(){var e=t.current;if(e){var n=e.getApi();n.next(),m(n.getDate())}},onDatePrev:function(){var e=t.current;if(e){var n=e.getApi();n.prev(),m(n.getDate())}},onDateToday:function(){var e=t.current;if(e){var n=e.getApi();n.today(),m(n.getDate())}},onViewChange:function(e){var n=t.current;n&&(n.getApi().changeView(e),j(e))},view:b,mobile:n}),(0,R.jsx)(re,{children:(0,R.jsx)(s.ZPm,{allDayMaintainDuration:!0,dayMaxEventRows:3,droppable:!0,editable:!0,eventClick:function(e){D({isOpen:!0,eventId:e.event.id})},eventDisplay:"block",eventDrop:k,eventResizableFromStart:!0,eventResize:O,events:a,headerToolbar:!1,height:800,initialDate:g,initialView:b,plugins:[c.ZP,d.ZP,u.Z,p.ZP,f.ZP],ref:t,rerenderDelay:10,select:function(e){var n=t.current;n&&n.getApi().unselect();D({isOpen:!0,range:{start:e.start.getTime(),end:e.end.getTime()}})},selectable:!0,weekends:!0})})]}),(0,R.jsx)(G,{event:S,onAddComplete:P,onClose:P,onDeleteComplete:P,onEditComplete:P,open:Z.isOpen,range:Z.range})]})};ae.getLayout=function(e){return(0,R.jsx)(m.a,{children:(0,R.jsx)(y.c,{children:e})})};var ie=ae},95326:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/calendar",function(){return n(36206)}])}},function(e){e.O(0,[4870,6313,2169,5464,9332,135,1461,9034,619,285,939,551,4490,6787,4475,4666,5263,9774,2888,179],(function(){return t=95326,e(e.s=t);var t}));var t=e.O();_N_E=t}]);