(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9565],{44801:function(e,t,n){"use strict";n.d(t,{n:function(){return u}});var r=n(92777),i=n(82262),o=n(77349),a=n(88330),s=n(7069),c=new Date,u=new(function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"getInvoices",value:function(){var e=[{id:"5ecb868d0f437390ef3ac62c",currency:"$",customer:{email:"contact@acme.com",name:"ACME SRL"},dueDate:(0,o.Z)(c,5).getTime(),issueDate:(0,a.Z)(c,1).getTime(),number:"INV-0019",status:"paid",totalAmount:55.5},{id:"59d78b0b0e15394130c373ff",currency:"$",customer:{email:"sales@blind-spots.com",name:"Blind Spots Inc."},dueDate:(0,o.Z)(c,6).getTime(),issueDate:(0,a.Z)(c,1).getTime(),number:"INV-0018",status:"paid",totalAmount:688.9},{id:"2a05e7f757c35fe823da3c5a",currency:"$",customer:{email:"sales@beauty-clinic.com",name:"Beauty Clinic SRL"},dueDate:(0,o.Z)(c,9).getTime(),issueDate:(0,a.Z)(c,1).getTime(),number:"INV-0017",status:"paid",totalAmount:695.2},{id:"5ecb868ada8deedee0638502",currency:"$",customer:{email:"sales@matt-jason.com",name:"Matt Jason"},dueDate:(0,o.Z)(c,25).getTime(),issueDate:(0,s.Z)((0,a.Z)(c,5),2).getTime(),number:"INV-0021",status:"pending",totalAmount:23.11},{id:"750f519b8bc4d21af9528437",currency:"$",customer:{email:"sales@matt-jason.com",name:"Matt Jason"},dueDate:(0,o.Z)(c,17).getTime(),issueDate:(0,s.Z)((0,a.Z)(c,4),2).getTime(),number:"INV-0020",status:"pending",totalAmount:253.76},{id:"5ecb868700aba84d0f1c0e48",currency:"$",customer:{email:"support@terrythomas.io",name:"Terry Thomas"},dueDate:(0,o.Z)(c,11).getTime(),issueDate:(0,s.Z)((0,a.Z)(c,4),6).getTime(),number:"INV-0015",status:"canceled",totalAmount:781.5},{id:"5ecb8682038e1rl239438dks1",currency:"$",customer:{email:"contact@dispatcher.co.uk",name:"Dispatcher Inc."},dueDate:(0,o.Z)(c,3).getTime(),issueDate:(0,s.Z)((0,a.Z)(c,2),15).getTime(),number:"INV-0014",status:"paid",totalAmount:96.64},{id:"5ecb8682038e1ddf4e868764",currency:"$",customer:{email:"info@novelty.co.uk",name:"Novelty I.S"},dueDate:(0,o.Z)(c,1).getTime(),issueDate:(0,s.Z)((0,a.Z)(c,2),15).getTime(),number:"INV-0013",status:"canceled",totalAmount:496.23}];return Promise.resolve(e)}},{key:"getInvoice",value:function(){var e={id:"5ecb86785312dcc69b5799ad",currency:"$",customer:{address:"271 Richmond Rd, Grey Lynn, Auckland 1022, New Zealand",company:"Countdown Grey Lynn",email:"contact@acme.com",name:"ACME SRL",taxId:"6934656584231"},dueDate:(0,o.Z)(c,5).getTime(),issueDate:(0,a.Z)(c,1).getTime(),items:[{id:"5ecb8694db1760a701dfbf74",currency:"$",description:"Freelancer Subscription (12/05/2019 - 11/06/2019)",unitAmount:55.5}],number:"INV-0019",status:"paid",subtotalAmount:50,taxAmount:5.5,totalAmount:55.5};return Promise.resolve(e)}}]),e}())},54722:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});var r=n(67294),i=function(){var e=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),(0,r.useCallback)((function(){return e.current}),[])}},99229:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var r=n(82066),i=n(85893),o=(0,r.Z)((0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})}),"ArrowRight")},67067:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var r=n(82066),i=n(85893),o=(0,r.Z)((0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Plus")},15872:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return fe}});var r=n(50029),i=n(59499),o=n(87794),a=n.n(o),s=n(67294),c=n(9008),u=n(83894),l=n(69119),d=n(98396),p=n(87357),f=n(86886),m=n(15861),h=n(11057),g=n(50480),x=n(45843),v=n(11496),b=n(44801),j=n(84717),Z=n(44265),y=n(27812),w=n(4730),P=n(77533),D=n(93946),O=n(50135),S=n(87109),C=n(26447),k=n(53457),I=n(69368),T=n(46846),R=n(38290),A=n(88364),L=n(83382),M=n(85893),N=["containerRef","filters","onChange","onClose","open"];function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=["Blind Spots Inc.","Dispatcher Inc.","ACME SRL","Novelty I.S","Beauty Clinic SRL","Division Inc."],B=(0,v.ZP)(P.ZP)({flexShrink:0,width:380,"& .MuiDrawer-paper":{position:"relative",width:380}}),F=(0,v.ZP)(P.ZP)({maxWidth:"100%",width:380,"& .MuiDrawer-paper":{height:"calc(100% - 64px)",maxWidth:"100%",top:64,width:380}}),$=function(e){var t=e.containerRef,n=e.filters,r=void 0===n?{}:n,i=e.onChange,o=e.onClose,a=e.open,c=(0,w.Z)(e,N),u=(0,s.useRef)(null),l=(0,d.Z)((function(e){return e.breakpoints.up("lg")})),f=function(e){e.target.checked?null===i||void 0===i||i(V(V({},r),{},{customer:[].concat((0,y.Z)(r.customer||[]),[e.target.value])})):null===i||void 0===i||i(V(V({},r),{},{customer:(r.customer||[]).filter((function(t){return t!==e.target.value}))}))},h=(0,M.jsxs)(p.Z,{sx:{pb:3,pt:{xs:3,lg:8},px:3},children:[(0,M.jsx)(p.Z,{sx:{display:{lg:"none"},mb:2},children:(0,M.jsx)(D.Z,{onClick:o,children:(0,M.jsx)(A.X,{fontSize:"small"})})}),(0,M.jsx)(p.Z,{component:"form",onSubmit:function(e){var t;e.preventDefault(),null===i||void 0===i||i(V(V({},r),{},{query:null===(t=u.current)||void 0===t?void 0:t.value}))},children:(0,M.jsx)(O.Z,{defaultValue:"",fullWidth:!0,inputProps:{ref:u},InputProps:{startAdornment:(0,M.jsx)(S.Z,{position:"start",children:(0,M.jsx)(R.o,{fontSize:"small"})})},label:"Search",placeholder:"Search by invoice number"})}),(0,M.jsx)(m.Z,{color:"textSecondary",sx:{mt:3},variant:"subtitle2",children:"Issue date"}),(0,M.jsxs)(C.Z,{spacing:2,sx:{mt:2},children:[(0,M.jsx)(T.Z,{inputFormat:"dd/MM/yyyy",label:"From",onChange:function(e){var t=V(V({},r),{},{startDate:e});t.endDate&&e&&e>t.endDate&&(t.endDate=e),null===i||void 0===i||i(t)},renderInput:function(e){return(0,M.jsx)(O.Z,V({},e))},value:r.startDate}),(0,M.jsx)(T.Z,{inputFormat:"dd/MM/yyyy",label:"To",onChange:function(e){var t=V(V({},r),{},{endDate:e});t.startDate&&e&&e<t.startDate&&(t.startDate=e),null===i||void 0===i||i(t)},renderInput:function(e){return(0,M.jsx)(O.Z,V({},e))},value:r.endDate})]}),(0,M.jsx)(m.Z,{color:"textSecondary",sx:{mt:3},variant:"subtitle2",children:"From customer"}),(0,M.jsx)(p.Z,{sx:{backgroundColor:"background.default",borderColor:"divider",borderRadius:1,borderStyle:"solid",borderWidth:1,mt:2},children:(0,M.jsx)(L.L,{sx:{maxHeight:200},children:(0,M.jsx)(k.Z,{sx:{py:1,px:1.5},children:_.map((function(e){var t;return(0,M.jsx)(g.Z,{control:(0,M.jsx)(I.Z,{checked:null===(t=r.customer)||void 0===t?void 0:t.includes(e),onChange:f}),label:e,value:e},e)}))})})}),(0,M.jsx)(g.Z,{control:(0,M.jsx)(x.Z,{checked:"paid"===r.status,onChange:function(e){null===i||void 0===i||i(V(V({},r),{},{status:e.target.checked?"paid":void 0}))}}),label:"Show paid only",sx:{mt:2}})]});return l?(0,M.jsx)(B,V(V({anchor:"left",open:a,SlideProps:{container:null===t||void 0===t?void 0:t.current},variant:"persistent"},c),{},{children:h})):(0,M.jsx)(F,V(V({anchor:"left",ModalProps:{container:null===t||void 0===t?void 0:t.current},onClose:o,open:a,SlideProps:{container:null===t||void 0===t?void 0:t.current},variant:"temporary"},c),{},{children:h}))},z=n(41664),H=n(32912),W=n(92077),q=n.n(W),G=n(68509),X=n(53252),J=n(87952),Q=n(7906),U=n(295),K=n(70519),Y=n(99229),ee=n(99233),te=["group","invoices","invoicesCount","onPageChange","onRowsPerPageChange","page","rowsPerPage"];function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=function(e){var t=e.invoice;return(0,M.jsxs)(G.Z,{sx:{boxShadow:1,transition:function(e){return e.transitions.create("box-shadow",{easing:e.transitions.easing.easeOut})},"&:hover":{boxShadow:8},"& > td":{backgroundColor:"background.paper",borderBottom:0}},children:[(0,M.jsx)(X.Z,{width:"25%",children:(0,M.jsx)(z.default,{href:"/dashboard/invoices/1",passHref:!0,children:(0,M.jsxs)(p.Z,{component:"a",sx:{alignItems:"center",display:"inline-flex",textDecoration:"none",whiteSpace:"nowrap"},children:[(0,M.jsx)(J.Z,{sx:{height:42,width:42},children:(0,ee.Q)(t.customer.name)}),(0,M.jsxs)(p.Z,{sx:{ml:2},children:[(0,M.jsx)(m.Z,{color:"textPrimary",variant:"subtitle2",children:t.number}),(0,M.jsx)(m.Z,{color:"textSecondary",variant:"body2",children:t.customer.name})]})]})})}),(0,M.jsx)(X.Z,{children:(0,M.jsxs)(m.Z,{variant:"body2",children:[t.currency,q()(t.totalAmount).format("0,0.00")]})}),(0,M.jsx)(X.Z,{children:(0,M.jsxs)(p.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,M.jsx)(m.Z,{variant:"subtitle2",children:"Issued"}),(0,M.jsx)(m.Z,{color:"textSecondary",variant:"body2",children:t.issueDate&&(0,H.Z)(t.issueDate,"dd/MM/yyyy")})]})}),(0,M.jsx)(X.Z,{children:(0,M.jsxs)(p.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,M.jsx)(m.Z,{variant:"subtitle2",children:"Due"}),(0,M.jsx)(m.Z,{color:"textSecondary",variant:"body2",children:t.dueDate&&(0,H.Z)(t.dueDate,"dd/MM/yyyy")})]})}),(0,M.jsx)(X.Z,{align:"right",children:(0,M.jsx)(z.default,{href:"/dashboard/invoices/1",passHref:!0,children:(0,M.jsx)(D.Z,{component:"a",children:(0,M.jsx)(Y.o,{fontSize:"small"})})})})]},t.id)},oe=function(e){var t=e.group,n=e.invoices,r=e.invoicesCount,o=e.onPageChange,a=e.onRowsPerPageChange,c=e.page,u=e.rowsPerPage,l=(0,w.Z)(e,te),d=t&&function(e){return e.reduce((function(e,t){var n=t.status;return re(re({},e),{},(0,i.Z)({},n,[].concat((0,y.Z)(e[n]),[t])))}),{canceled:[],paid:[],pending:[]})}(n);return(0,M.jsxs)("div",re(re({},l),{},{children:[(0,M.jsx)(L.L,{children:(0,M.jsxs)(Q.Z,{sx:{borderCollapse:"separate",borderSpacing:function(e){return"0 ".concat(e.spacing(3))},minWidth:600,marginTop:function(e){return"-".concat(e.spacing(3))},p:"1px"},children:[Boolean(t&&d)&&(0,M.jsx)(U.Z,{children:Object.keys(d).map((function(e){return(0,M.jsxs)(s.Fragment,{children:[(0,M.jsx)(G.Z,{children:(0,M.jsx)(X.Z,{colSpan:5,sx:{px:0},children:(0,M.jsxs)(m.Z,{color:"textSecondary",variant:"h6",children:[e.charAt(0).toUpperCase()+e.slice(1)," ","(",d[e].length,")"]})})}),d[e].map((function(e){return(0,M.jsx)(ie,{invoice:e},e.id)}))]},e)}))}),!t&&(0,M.jsx)(U.Z,{children:n.map((function(e){return(0,M.jsx)(ie,{invoice:e},e.id)}))})]})}),(0,M.jsx)(K.Z,{component:"div",count:r,onPageChange:o,onRowsPerPageChange:a,page:c,rowsPerPage:u,rowsPerPageOptions:[5,10,25]})]}))},ae=n(54722),se=(0,n(82066).Z)((0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,M.jsx)("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),"Filter"),ce=n(67067),ue=n(55714);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var de=(0,v.ZP)("div",{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t,n,r=e.theme,o=e.open;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}((t={flexGrow:1,overflow:"hidden",paddingLeft:r.spacing(3),paddingRight:r.spacing(3),paddingTop:r.spacing(8),paddingBottom:r.spacing(8),zIndex:1},(0,i.Z)(t,r.breakpoints.up("lg"),{marginLeft:-380}),(0,i.Z)(t,"transition",r.transitions.create("margin",{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen})),t),o&&(n={},(0,i.Z)(n,r.breakpoints.up("lg"),{marginLeft:0}),(0,i.Z)(n,"transition",r.transitions.create("margin",{easing:r.transitions.easing.easeOut,duration:r.transitions.duration.enteringScreen})),n))})),pe=function(){var e=(0,ae.s)(),t=(0,s.useRef)(null),n=(0,d.Z)((function(e){return e.breakpoints.up("md")}),{noSsr:!0}),i=(0,s.useState)(!0),o=i[0],v=i[1],j=(0,s.useState)([]),Z=j[0],y=j[1],w=(0,s.useState)(0),P=w[0],D=w[1],O=(0,s.useState)(5),S=O[0],C=O[1],k=(0,s.useState)(n),I=k[0],T=k[1],R=(0,s.useState)({query:"",startDate:null,endDate:null,customer:[]}),A=R[0],L=R[1];(0,s.useEffect)((function(){ue.w.push({event:"page_view"})}),[]);var N=(0,s.useCallback)((0,r.Z)(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.n.getInvoices();case 3:n=t.sent,e()&&y(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e]);(0,s.useEffect)((function(){N()}),[]);var E=function(e,t){return e.filter((function(e){return!(t.query&&!e.number.toLowerCase().includes(t.query.toLowerCase()))&&((!t.startDate||!e.issueDate||(0,u.Z)(e.issueDate)>=(0,l.Z)(t.startDate.getTime()))&&((!t.endDate||!e.issueDate||(0,l.Z)(e.issueDate)<=(0,u.Z)(t.endDate.getTime()))&&(!(t.customer&&t.customer.length>0&&!t.customer.includes(e.customer.name))&&("paid"!==t.status||"paid"===e.status))))}))}(Z,A),V=function(e,t,n){return e.slice(t*n,t*n+n)}(E,P,S);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(c.default,{children:(0,M.jsxs)("title",{children:["Dashboard: Invoice List | ","Picante"]})}),(0,M.jsxs)(p.Z,{component:"main",ref:t,sx:{backgroundColor:"background.default",display:"flex",flexGrow:1,overflow:"hidden"},children:[(0,M.jsx)($,{containerRef:t,filters:A,onChange:function(e){L(e),D(0)},onClose:function(){T(!1)},open:I}),(0,M.jsxs)(de,{open:I,children:[(0,M.jsxs)(p.Z,{sx:{mb:3},children:[(0,M.jsxs)(f.ZP,{container:!0,spacing:3,justifyContent:"space-between",children:[(0,M.jsx)(f.ZP,{item:!0,children:(0,M.jsx)(m.Z,{variant:"h4",children:"Invoices"})}),(0,M.jsxs)(f.ZP,{item:!0,sx:{m:-1},children:[(0,M.jsx)(h.Z,{endIcon:(0,M.jsx)(se,{fontSize:"small"}),onClick:function(){T((function(e){return!e}))},sx:{m:1},variant:"outlined",children:"Filters"}),(0,M.jsx)(h.Z,{startIcon:(0,M.jsx)(ce.v,{fontSize:"small"}),sx:{m:1},variant:"contained",children:"New"})]})]}),(0,M.jsx)(p.Z,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:(0,M.jsx)(g.Z,{control:(0,M.jsx)(x.Z,{checked:o,onChange:function(e){v(e.target.checked)}}),label:"Show groups"})})]}),(0,M.jsx)(oe,{group:o,invoices:V,invoicesCount:E.length,onPageChange:function(e,t){D(t)},onRowsPerPageChange:function(e){C(parseInt(e.target.value,10))},page:P,rowsPerPage:S})]})]})]})};pe.getLayout=function(e){return(0,M.jsx)(j.a,{children:(0,M.jsx)(Z.c,{children:e})})};var fe=pe},99233:function(e,t,n){"use strict";n.d(t,{Q:function(){return r}});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s+/," ").split(" ").slice(0,2).map((function(e){return e&&e[0].toUpperCase()})).join("")}},76574:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/invoices",function(){return n(15872)}])}},function(e){e.O(0,[6313,2169,5464,9332,135,1461,9034,619,2177,2453,4490,6787,5556,5263,9774,2888,179],(function(){return t=76574,e(e.s=t);var t}));var t=e.O();_N_E=t}]);